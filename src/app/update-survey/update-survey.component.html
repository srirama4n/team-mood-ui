<h1>
    Update Or Delete Survey
</h1>

<ng-container *ngIf="!!surveyDetail?.squad?.name; else surveyTemplate">
    <mat-card class="center card">
        <mat-card-header>
            <div mat-card-avatar class="header-image"></div>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="form">
                <mat-form-field class="full-width">
                    <input matInput disabled [value]="surveyDetail?.group?.name" placeholder="Department/LOBT">
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput disabled [value]="surveyDetail?.tower?.name" placeholder="Platform">
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput disabled [value]="surveyDetail?.project?.name" placeholder="Project">
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput disabled [value]="surveyDetail?.squad?.name" placeholder="Squad">
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput [matDatepickerFilter]="createDateFilter" [matDatepicker]="dp1" placeholder="Sprint Start Date" formControlName="createdDate"
                        (dateChange)="onCreateDateChange($event)" required>
                    <mat-datepicker-toggle matSuffix [for]="dp1"></mat-datepicker-toggle>
                    <mat-datepicker #dp1 disabled="false"></mat-datepicker>
                    <mat-hint align="end">Click here to edit</mat-hint>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput [matDatepickerFilter]="expiryDateFilter" [matDatepicker]="dp2" placeholder="Sprint End Date" formControlName="expDate"
                        (dateChange)="onExpiryDateChange($event)" required>
                    <mat-datepicker-toggle matSuffix [for]="dp2"></mat-datepicker-toggle>
                    <mat-datepicker #dp2 disabled="false"></mat-datepicker>
                    <mat-hint align="end">Click here to edit</mat-hint>
                </mat-form-field>
                <mat-form-field class="full-width">
                    <input matInput [value]="surveyDetail?.respondents" placeholder="No. of Respondents" formControlName="respondents" required>
                </mat-form-field>
            </form>
            <section class="example-section">
                <mat-checkbox [(ngModel)]="checked" class="example-margin" [(indeterminate)]="indeterminate" [align]="align" [disabled]="isSubmitted">
                    Please select if you wish to delete the survey
                </mat-checkbox>
            </section>
        </mat-card-content>
        <mat-card-actions>
            <button *ngIf="!checked" mat-button class="mat-primary mat-raised-button" [disabled]="isSubmitted" (click)="update()">Update
            </button>
            <button *ngIf="checked" mat-button class="mat-accent mat-raised-button" [disabled]="isSubmitted" (click)="delete()">Delete
            </button>
            <button mat-button class="mat-primary mat-raised-button button-position" [routerLink]="['/admin/surveys']">Cancel</button>
        </mat-card-actions>
    </mat-card>
</ng-container>
<ng-template #surveyTemplate>
    <h2>No Data for the survey</h2>
</ng-template>